function createElement(e){var t=document.createElement("DIV");if(t.innerHTML=e,!t.firstElementChild)throw new TypeError("after '"+e+"' is an illegal html tag string.");return t.firstElementChild}function shear(e,t,n){void 0===t&&(t=0),void 0===n&&(n="");var r=window.getSelection(),l=e.innerHTML,i=e.textContent;r.selectAllChildren(e),r.collapseToStart();for(var a=0;a<t;a++)if(r.modify("extend","right","character"),r.modify("extend","right","lineboundary"),!e.contains(r.getRangeAt(0).endContainer)){r.selectAllChildren(e);break}var o=r.getRangeAt(0).cloneContents(),d=document.createElement("DIV");d.appendChild(o);var c=d.innerHTML,h=o.textContent;e.innerHTML=c,r.selectAllChildren(e),r.collapseToEnd();var m="",f="",u=createElement("<br/>");if(""!==n){var g=createElement(n);e.appendChild(u),e.appendChild(g);var C=g.getBoundingClientRect();for(a=0;a<1e3;a++)if(r.modify("extend","left","character"),r.getRangeAt(0).getBoundingClientRect().width>=C.width){r.deleteFromDocument();break}e.removeChild(u),m=e.innerHTML,f=e.textContent}return{full_html:l,full_text:i,cut_html:c,cut_text:h,cut_html_with_after_html:m,cut_text_with_after_html:f}}export default shear;
